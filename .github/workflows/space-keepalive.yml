name: Keep HF Space Awake

on:
  schedule:
    # First run at 02:00 UTC every other day
    - cron: '0 2 */2 * *'
    # Second run at 20:00 UTC on odd-numbered days
    - cron: '0 20 1-31/2 * *'

  workflow_dispatch:         # allows manual run from Actions UI

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Space (retry)
        run: |
          for i in {1..3}; do
            curl -fsS -o /dev/null -L 'https://huggingface.co/spaces/AnshulPrasad/Acharya_Prashant' && exit 0
            sleep 30
          done
          echo "Ping failed" >&2
          exit 1
